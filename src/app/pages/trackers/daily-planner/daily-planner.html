<div class="page">
  <header class="page-header">
    <h1 class="page-title">Daily Planner</h1>
    <div class="planner-header">
      <div class="planner-control">
        <label class="planner-label">
          Date
          <input
            type="date"
            [(ngModel)]="selectedDate"
            (change)="onDateChange()" />
        </label>
      </div>

      <div class="planner-control">
        <span class="planner-label">Month</span>
        <span class="planner-month">
          {{ selectedDate | date: 'MMMM yyyy' }}
        </span>
      </div>

      <div class="planner-control">
        <label class="planner-label">
          Weather
          <select
            [(ngModel)]="model.weather"
            (change)="onWeatherChange()">
            <option value="">--</option>
            <option>‚òÄ Sun</option>
            <option>‚õÖ Cloudy</option>
            <option>üåß Rain</option>
            <option>‚ùÑ Snow</option>
            <option>‚õà Storm</option>
          </select>
        </label>
      </div>
    </div>
  </header>

  <section class="planner-body">
    <!-- Lijeva kolona -->
    <div class="planner-column">
      <div class="card planner-card">
        <h3 class="planner-section-title">To Do List</h3>
        <div class="planner-row">
          <input
            class="planner-input"
            type="text"
            placeholder="New task..."
            [(ngModel)]="newTodoText"
            (keyup.enter)="addTodo()" />
          <button type="button" class="btn-primary" (click)="addTodo()">
            Add
          </button>
        </div>
        <ul class="planner-list">
          <li class="planner-list-item" *ngFor="let t of model.todos">
            <label class="planner-checkbox">
              <input
                type="checkbox"
                [checked]="t.done"
                (change)="toggleTodo(t.id)" />
              <span [class.done]="t.done">{{ t.text }}</span>
            </label>
            <button
              type="button"
              class="planner-icon-btn"
              (click)="deleteTodo(t.id)">
              ‚úï
            </button>
          </li>
        </ul>
      </div>

      <div class="card planner-card">
        <h3 class="planner-section-title">Goals for the Day</h3>
        <div class="planner-row">
          <input
            class="planner-input"
            type="text"
            placeholder="New goal..."
            [(ngModel)]="newGoalText"
            (keyup.enter)="addGoal()" />
          <button type="button" class="btn-primary" (click)="addGoal()">
            Add
          </button>
        </div>
        <ul class="planner-list">
          <li class="planner-list-item" *ngFor="let g of model.goals; index as i">
            <span>{{ g }}</span>
            <button
              type="button"
              class="planner-icon-btn"
              (click)="deleteGoal(i)">
              ‚úï
            </button>
          </li>
        </ul>
      </div>

      <div class="card planner-card">
        <h3 class="planner-section-title">Notes</h3>
        <textarea
          class="planner-textarea"
          rows="6"
          [(ngModel)]="model.notes"
          (input)="onNotesChange()">
        </textarea>
      </div>
    </div>

    <!-- Desna kolona -->
    <div class="planner-column">
      <div class="card planner-card">
        <h3 class="planner-section-title">Schedule for Today</h3>
        <div class="schedule-grid">
          <div class="schedule-row" *ngFor="let h of hours">
            <div class="time-label">{{ h }}</div>
            <input
              class="planner-input"
              type="text"
              [(ngModel)]="model.schedule[h]"
              (input)="onScheduleChange()" />
          </div>
        </div>
      </div>

      <div class="card planner-card">
        <h3 class="planner-section-title">For Tomorrow</h3>
        <textarea
          class="planner-textarea"
          rows="4"
          [(ngModel)]="model.tomorrow"
          (input)="onTomorrowChange()">
        </textarea>
      </div>
    </div>
  </section>
</div>
